(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{17601:function(e,n,t){Promise.resolve().then(t.bind(t,51095))},51095:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return H}});var r=t(27573),s=t(34077),a=t(7653),o=t(15432);function i(e){let{parentWindow:n,allowedOrigins:t,onOutsideRequest:r}=e,[s,i]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(n){let e=new o.A({parentWindow:n,allowedOrigins:t,onOutsideRequest:r});return i(e),()=>{e.cleanup()}}},[n,t,r]);let l=(0,a.useCallback)(async(e,n)=>{if(s)return s.sendRequest(e,n);throw Error("Communicator not initialized")},[s]);return{sendRequest:null===s?void 0:l}}var l=t(44115);function c(e){let{size:n="md",fullscreen:t=!1,inheritColor:s}=e;return(0,r.jsx)("div",{className:(0,l.Z)(t?"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2":"m-auto"),children:(0,r.jsx)("div",{className:(0,l.Z)("sm"===n&&"h-4 w-4 border-2","md"===n&&"h-20 w-20 border-8",s?"border-current":"border-border-200","text-secondary inline-block animate-spin rounded-full border-solid border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"),role:"status",children:(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})})})}var d=(0,a.memo)(c),u=t(47828),p=t(77997);let m=(0,u.j)("inline-flex\n  items-center\n  justify-center\n  relative\n  shrink-0\n  ring-offset-2\n  ring-offset-bg-300\n  ring-accent-main-100\n  focus-visible:outline-none\n  focus-visible:ring-1\n  disabled:pointer-events-none\n  disabled:opacity-50\n  disabled:shadow-none\n  disabled:drop-shadow-none",{variants:{variant:{primary:"\n          bg-accent-main-100\n          bg-gradient-to-r\n          from-accent-main-100\n          via-accent-main-200/50\n          to-accent-main-200\n          bg-[length:200%_100%]\n          hover:bg-right\n          active:bg-accent-main-000\n          border-0.5\n          border-border-300\n          text-oncolor-100\n          font-medium\n          font-styrene\n          drop-shadow-sm\n          transition-all\n          shadow-[inset_0_0.5px_0px_rgba(255,255,0,0.15)]\n          [text-shadow:_0_1px_2px_rgb(0_0_0_/_10%)]\n          active:shadow-[inset_0_1px_6px_rgba(0,0,0,0.2)]\n          hover:from-accent-main-200\n          hover:to-accent-main-200",flat:"bg-accent-main-100\n          text-oncolor-100\n          font-medium\n          font-styrene\n          transition-colors\n          hover:bg-accent-main-200",secondary:"\n          bg-[radial-gradient(ellipse,_var(--tw-gradient-stops))]\n          from-bg-500/10\n          from-50%\n          to-bg-500/30\n          border-0.5\n          border-border-400\n          font-medium\n          font-styrene\n          text-text-100/90\n          transition-colors\n          active:bg-bg-500/50\n          hover:text-text-000\n          hover:bg-bg-500/60",outline:"border-1.5\n          font-medium\n          font-styrene\n          bg-transparent\n          text-text-200\n          transition-colors\n          hover:text-text-100\n          hover:bg-bg-400\n          hover:border-bg-400",ghost:"text-text-200\n          transition-all\n          font-styrene\n          active:bg-bg-400\n          hover:bg-bg-500/40\n          hover:text-text-100",underline:"opacity-80\n          transition-all\n          active:scale-[0.985]\n          hover:opacity-100\n          hover:underline\n          underline-offset-3",danger:"bg-danger-100\n          text-oncolor-100\n          font-medium\n          font-styrene\n          transition-colors\n          hover:bg-danger-200",unstyled:""},size:{default:"h-9 px-4 py-2 rounded-lg min-w-[5rem] active:scale-[0.985] whitespace-nowrap",sm:"h-8 rounded-md px-3 text-xs min-w-[4rem] active:scale-[0.985] whitespace-nowrap",lg:"h-11 rounded-[0.6rem] px-5 min-w-[6rem] active:scale-[0.985] whitespace-nowrap",icon:"h-9 w-9 rounded-md active:scale-95 shrink-0",icon_xs:"h-6 w-6 rounded-md active:scale-95",icon_sm:"h-8 w-8 rounded-md active:scale-95",icon_lg:"h-11 w-11 rounded-[0.6rem] active:scale-95",inline:"px-0.5 rounded-[0.25rem]",unset:""},option:{rounded:"!rounded-full",prepend:"",append:""},state:{active:""}},compoundVariants:[{size:"default",option:"prepend",class:"pl-2 pr-3 gap-1"},{size:"lg",option:"prepend",class:"pl-2.5 pr-3.5 gap-1"},{size:"sm",option:"prepend",class:" pl-2 pr-2.5 gap-1"},{size:"default",option:"append",class:"pl-3 pr-2 gap-1"},{size:"lg",option:"append",class:"pl-3.5 pr-2.5 gap-1"},{size:"sm",option:"append",class:"pl-2.5 pr-2 gap-1"},{variant:"ghost",state:"active",class:"!bg-bg-400"}],defaultVariants:{variant:"primary",size:"default"}}),g=(0,a.forwardRef)((e,n)=>{let{className:t,variant:s,size:a,option:o,loading:i,href:c,target:u,prepend:g,append:f,state:h,disabled:x,children:b,...w}=e;g&&(o="prepend"),f&&(o="append");let y=(0,l.Z)(m({variant:s,size:a,option:o,state:h,className:t}),i&&"text-transparent ![text-shadow:_none]"),v=(0,r.jsxs)(r.Fragment,{children:[i&&(0,r.jsx)("div",{className:(0,l.Z)("absolute inset-0 flex items-center justify-center",s&&"primary"!==s&&"flat"!==s&&"danger"!==s?"text-text-200":"text-oncolor-100"),children:(0,r.jsx)(d,{size:"sm",inheritColor:!0})}),g,b,f]});return c?(0,r.jsx)(p.default,{href:c,target:u||"_self",className:y,"aria-label":w["aria-label"],children:v}):(0,r.jsx)("button",{className:y,ref:n,disabled:x||i,...w,children:v})});g.displayName="Button";var f=g,h=t(28136);let x=a.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:n,className:(0,l.Z)("bg-card text-card-foreground rounded-xl border shadow",t),...s})});x.displayName="Card";let b=a.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:n,className:(0,l.Z)("flex flex-col space-y-1.5 p-6",t),...s})});b.displayName="CardHeader";let w=a.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)("h3",{ref:n,className:(0,l.Z)("font-semibold leading-none tracking-tight",t),...s})});w.displayName="CardTitle",a.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)("p",{ref:n,className:(0,l.Z)("text-muted-foreground text-sm",t),...s})}).displayName="CardDescription";let y=a.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:n,className:(0,l.Z)("p-6 pt-0",t),...s})});y.displayName="CardContent",a.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:n,className:(0,l.Z)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter";var v=e=>{let{title:n,description:t,subtext:s,inset:a,cta:o,onClick:i,ctaDisabled:c,insetStyle:d="default"}=e;return(0,r.jsxs)(x,{className:"border-[rgb(229,231,235)] border-gray-200 w-[460px] max-w-full shadow-lg bg-bg-000",children:[(0,r.jsxs)(b,{className:"flex-row items-center space-y-0",children:[(0,r.jsx)(h.W,{className:"mr-2 h-5 w-5"}),(0,r.jsx)(w,{className:"",children:n})]}),(0,r.jsxs)(y,{children:[(0,r.jsx)("p",{className:"mb-2 text-sm",children:t}),!!a&&(0,r.jsx)("div",{className:(0,l.Z)("flex flex-col rounded-md bg-gray-100 bg-[rgb(243,244,246)] p-2 font-mono text-xs","danger"===d&&"text-danger-100 text-destructive"),children:a}),!!s&&(0,r.jsx)("p",{className:"text-text-500 mt-2 text-sm",children:s}),!!o&&(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(f,{variant:"primary",className:"mt-4",onClick:i,disabled:c,children:o})})]})]})};function j(e){switch(e.type){case"UnsupportedImports":return{title:"Artifact Failed to Load",description:"The generated artifact uses libraries we don't support:",inset:[...e.unsupportedModules,...e.nonExistentIcons.map(e=>"{ ".concat(e,' } from "lucide-react"'))],subtext:"The code itself may still work. To use it, you'll need a development setup with these libraries installed."};case"RuntimeError":return{title:"Error Running Artifact",description:"An error occurred while trying to run the generated artifact.",inset:[e.message],insetStyle:"danger"};case"FileNotFound":return{title:"File Not Found",description:'The file "'.concat(e.fileName,'" could not be found.'),subtext:"Please check the file name and try again."};case"ClaudeCompletionError":return{title:"Error in Claude completion",description:e.message}}}var C=t(64507),E=t(65119),N=t(54603),R=t(56432),k=t(90038),S=t(48078),P=t(34363),_=t(52063),F=t(41085);let T=e=>(0,F.vs)(e,{transforms:["jsx","typescript","imports"],production:!0}).code.substring(13),z="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js",Z="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js";function M(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return new Promise(t=>{let r="\n      importScripts('".concat(z,"', '").concat(Z,"');\n\n      const dependencies = {\n        _,\n        lodash: _,\n        papaparse: Papa,\n        // Add other dependencies here\n      };\n\n      const mockRequire = (moduleName) => {\n        return dependencies[moduleName];\n      };\n\n      let pendingPromises = new Set();\n      let pendingTimers = new Set();\n\n      const originalPromise = Promise;\n      self.Promise = function (...args) {\n        const promise = new originalPromise(...args);\n        pendingPromises.add(promise);\n        promise.then(() => pendingPromises.delete(promise), () => pendingPromises.delete(promise));\n        return promise;\n      };\n\n      // Maintain static methods of Promise\n      Object.getOwnPropertyNames(originalPromise).forEach(prop => {\n        if (prop !== 'prototype' && typeof originalPromise[prop] === 'function') {\n          self.Promise[prop] = function(...args) {\n            const result = originalPromise[prop].apply(originalPromise, args);\n            if (result instanceof originalPromise) {\n              pendingPromises.add(result);\n              result.then(() => pendingPromises.delete(result), () => pendingPromises.delete(result));\n            }\n            return result;\n          };\n        }\n      });\n\n      const originalSetTimeout = self.setTimeout;\n      self.setTimeout = function (callback, delay, ...args) {\n        const timer = originalSetTimeout(() => {\n          pendingTimers.delete(timer);\n          callback(...args);\n        }, delay);\n        pendingTimers.add(timer);\n        return timer;\n      };\n\n      function waitForAsync() {\n        return new originalPromise(resolve => {\n          function check() {\n            if (pendingPromises.size === 0 && pendingTimers.size === 0) {\n              resolve();\n            } else {\n              originalSetTimeout(check, 0);\n            }\n          }\n          check();\n        });\n      }\n\n      const stringifyArg = (arg) => {\n        if (typeof arg === 'object' && arg !== null) {\n          try {\n            return JSON.stringify(arg);\n          } catch (error) {\n            return '[Unstringifiable Value]';\n          }\n        }\n        return String(arg);\n      };\n\n      const logs = [];\n      const originalConsole = console;\n      console = {\n        log: (...args) => {\n          const stringifiedArgs = args.map(stringifyArg);\n          logs.push(stringifiedArgs.join(' '));\n          originalConsole.log(...args);\n        },\n        warn: (...args) => {\n          const stringifiedArgs = args.map(stringifyArg);\n          logs.push('WARN: ' + stringifiedArgs.join(' '));\n          originalConsole.warn(...args);\n        },\n        error: (...args) => {\n          const stringifiedArgs = args.map(stringifyArg);\n          logs.push('ERROR: ' + stringifiedArgs.join(' '));\n          originalConsole.error(...args);\n        }\n      };\n\n\n      // In case of multiple files, use a map\n      let fileReadId = 0\n      const fileReadCallbacks = new Map();\n      self.window = {\n        fs: {\n          readFile: async (filename, encoding) => {\n            return new Promise((resolve, reject) => {\n              const id = fileReadId++;\n              fileReadCallbacks.set(id, { resolve, reject });\n              self.postMessage({ type: 'readFile', id, filename, encoding});\n            });\n          }\n        }\n      }\n\n      self.onmessage = async function(e) {\n        if (e.data.type === 'fileContent') {\n          const callback = fileReadCallbacks.get(e.data.id);\n          callback.resolve(e.data.content);\n          await waitForAsync();\n          fileReadCallbacks.delete(e.data.id);\n        } else if (e.data.type === 'fileError') {\n          const callback = fileReadCallbacks.get(e.data.id);\n          callback.reject(new Error(e.data.error));\n          fileReadCallbacks.delete(e.data.id);\n        }\n        const code = e.data;\n        const wrappedCode = `\n          return (async ({ require }) => {\n            ${code}\n          });\n        `;\n\n        try {\n          const fn = new Function(wrappedCode);\n          const result = await fn()({ require: mockRequire });\n          await waitForAsync();\n          self.postMessage({ status: 'success', result: JSON.stringify(result), logs });\n        } catch (error) {\n          self.postMessage({\n            status: 'error',\n            error: error instanceof Error ? error.message : String(error),\n            logs\n          });\n        }\n      };\n    "),a=new Worker(URL.createObjectURL(new Blob([r],{type:"application/javascript"}))),o=setTimeout(()=>{a.terminate(),t({status:"error",logs:[],error:"Execution timed out"})},n);a.onmessage=async e=>{var n,r,i,l;if((null===(n=e.data)||void 0===n?void 0:n.type)==="readFile")try{let n=await window.fs.readFile(null===(r=e.data)||void 0===r?void 0:r.filename,null===(i=e.data)||void 0===i?void 0:i.encoding);a.postMessage({type:"fileContent",content:n,id:null===(l=e.data)||void 0===l?void 0:l.id})}catch(e){t({status:"error",logs:[],error:e instanceof Error?e.message:String(e)}),a.terminate()}else{clearTimeout(o),a.terminate();let n=s.vr.safeParse(e.data);n.success?t(n.data):t({status:"error",logs:[],error:"Invalid execution result: "+n.error.message})}},a.postMessage(T(e))})}let A=e=>{let{sendRequest:n,handleError:t}=e;(0,a.useEffect)(()=>{let e=void 0===n?async(e,n)=>Promise.resolve(null):async(e,r)=>{try{let t=await n(s.to.GetFile,{"@type":"anthropic.claude.usercontent.sandbox.GetFileRequest",key:e});if("anthropic.claude.usercontent.sandbox.GetFileResponse"!==t["@type"])throw Error("Unexpected response type");let a=t.value;if(null===a)throw Error('File not found: No file named "'.concat(e,'"'));let o=(null==r?void 0:r.encoding)||null;if("utf8"===o||"utf-8"===o||"utf_8"===o)return new TextDecoder("utf-8").decode(a);if("binary"===o||null===o)return a;throw Error("Unsupported encoding: ".concat(o))}catch(n){throw n instanceof Error?n.message.startsWith("File not found:")?t({type:"FileNotFound",fileName:e}):t({type:"RuntimeError",message:n.message}):t({type:"RuntimeError",message:String(n)}),n}},r=(e,n)=>{throw Error("Synchronous file operations are not supported in this environment. Please use readFile instead.")},a=void 0===n?async e=>Promise.resolve(""):async e=>{try{var r;let t=await n(s.to.ClaudeCompletion,{"@type":"anthropic.claude.usercontent.sandbox.ClaudeCompletionRequest",prompt:e});if("anthropic.claude.usercontent.sandbox.ClaudeCompletionResponse"!==t["@type"])throw Error("Unexpected response type");return null!==(r=t.completion)&&void 0!==r?r:""}catch(e){return t({type:"ClaudeCompletionError",message:e instanceof Error?e.message:String(e)}),""}};window.fs={readFile:e,readFileSync:r},window.claude={complete:a}},[n,t])},I={allowedParents:[{origin:"claude.ai",scheme:"https"},{origin:"preview.claude.ai",scheme:"https"},{origin:"claude.site",scheme:"https"},{origin:"feedback.anthropic.com",scheme:"https"}],defaultParentOrigin:"claude.ai",origin:"https://www.claudeusercontent.com"},D={allowedParents:[{origin:"claude-ai.staging.ant.dev",scheme:"https"},{origin:"preview.claude-ai.staging.ant.dev",scheme:"https"},{origin:"staging.claude.site",scheme:"https"},{origin:"staging.claudeusercontent.com",scheme:"https"},{origin:"localhost:4000",scheme:"http"}],defaultParentOrigin:"claude-ai.staging.ant.dev",origin:"https://staging.claudeusercontent.com"},L={allowedParents:[{origin:"localhost:4000",scheme:"http"},{origin:"localhost:4020",scheme:"http"},{origin:"localhost:3000",scheme:"http"},{origin:"localhost:4010",scheme:"http"}],defaultParentOrigin:"localhost:4000",origin:"http://localhost:4010"},q=["development","production","staging"],O="production";if(O&&!q.includes(O))throw Error("Invalid NEXT_PUBLIC_APP_ENV value, must be one of ".concat(q.join(", ")));let B={production:I,staging:D,development:L}[O||"development"];function U(){return{...B}}let{defaultParentOrigin:W}=U();function G(){try{return window.self!==window.top}catch(e){return!0}}function J(){if(window.top)try{window.top.location.href="//".concat(W);return}catch(e){}window.location.href="//".concat(W)}function V(e){let{error:n}=e,t=j(n);return(0,r.jsx)("div",{className:"flex min-h-full w-full items-center justify-center bg-gray-100 p-4",children:(0,r.jsx)(v,{title:t.title,description:t.description,inset:t.inset,subtext:t.subtext,insetStyle:t.insetStyle})})}function H(){let{allowedParents:e}=U(),[n,t]=(0,a.useState)(""),[o,l]=(0,a.useState)(),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(!1),m=(0,a.useRef)(null),g=(0,a.useMemo)(()=>e.map(e=>"".concat(e.scheme,"://").concat(e.origin)),[e]),f=(0,a.useCallback)(()=>{m.current&&(clearTimeout(m.current),m.current=null),p(!1)},[]),h=(0,a.useCallback)(async e=>{let{method:n,payload:r}=e;if(f(),n===s.to.SetContent){d(null),t(r.content),l(r.type);return}if(n===s.to.RunCode)try{let e=await M(r.code);return{"@type":"anthropic.claude.usercontent.sandbox.RunCodeResponse",...e}}catch(e){return{"@type":"anthropic.claude.usercontent.sandbox.RunCodeResponse",status:"error",logs:[],error:"Unexpected error executing code: "+(e instanceof Error?e.message:String(e))}}},[f]),{sendRequest:x}=i({parentWindow:window.parent,allowedOrigins:g,onOutsideRequest:h}),b="parent"===(0,N.useSearchParams)().get("errorReportingMode")?"parent":"sandbox",w=(0,a.useCallback)(e=>{"parent"===b&&e?null==x||x(s.to.ReportError,{"@type":"anthropic.claude.usercontent.sandbox.ReportErrorRequest",error:e}):d(e)},[b,x]);A({sendRequest:x,handleError:w}),(0,a.useEffect)(()=>{G()||J()},[]),(0,a.useEffect)(()=>{null==x||x(s.to.ReadyForContent,{"@type":"google.protobuf.Empty"})},[x]),(0,a.useEffect)(()=>(f(),m.current=setTimeout(()=>{p(!0)},3e3),()=>{m.current&&clearTimeout(m.current)}),[n,o,f]);let y=(0,a.useCallback)(n=>{var r;if(!e.some(e=>n.origin==="".concat(e.scheme,"://").concat(e.origin))||!n.data.type)return;f();let{type:s,content:a}=n.data;l(s),t(a),null===(r=n.source)||void 0===r||r.postMessage({type:"MESSAGE_RECEIVED",requestId:n.data.requestId},{targetOrigin:n.origin})},[e,f]);return((0,a.useEffect)(()=>(window.addEventListener("message",y),window.parent&&e.forEach(e=>{window.parent.postMessage({type:"USER_CONTENT_RENDERER_READY"},"".concat(e.scheme,"://").concat(e.origin))}),()=>window.removeEventListener("message",y)),[y,e]),c&&"sandbox"===b)?(0,r.jsx)(V,{error:c}):(0,r.jsx)(E.ErrorBoundary,{errorComponent:e=>{let{error:n}=e;return w({type:"RuntimeError",message:n.message}),null},children:(0,r.jsx)(r.Fragment,{children:n&&o?(0,r.jsxs)(r.Fragment,{children:[o===C.JP.Html&&(0,r.jsx)(P.Z,{content:n}),o===C.JP.Svg&&(0,r.jsx)(_.Z,{content:n}),o===C.JP.Mermaid&&(0,r.jsx)(R.Z,{content:n}),o===C.JP.React&&(0,r.jsx)(k.Z,{content:n,handleError:w}),o===C.KD.Repl&&(0,r.jsx)(S.Z,{initialCode:n,sendRequest:x})]}):u?(0,r.jsx)("div",{className:"flex min-h-full w-full items-center justify-center bg-gray-100 p-4",children:(0,r.jsx)(v,{title:"Loading is taking longer than expected",description:"There may be an issue with the content you're trying to load. ",subtext:"The code itself may still be valid and functional. "})}):(0,r.jsx)("div",{className:"loader"})})},n)}!function(){G()||J()}()},98204:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var r=t(27573),s=t(7653),a=t(97443),o=t(26105),i=t(72998),l=t(4772),c=t(86142),d=t(92388);let u=()=>{let{zoomIn:e,zoomOut:n}=(0,a.M4)(),[t,u]=(0,s.useState)(!1),p=(0,s.useCallback)(()=>{let e=document,n=e.documentElement;e.fullscreenElement?e.exitFullscreen&&(e.exitFullscreen(),u(!1)):(n.requestFullscreen(),u(!0))},[]);return(0,r.jsx)("div",{className:"absolute bottom-2 right-2 z-10 flex flex-col",children:(0,r.jsxs)("div",{className:"flex flex-col gap-0.5 rounded-md border-[0.5px] border-[#636d83a0] p-0.5",children:[(0,r.jsx)(d.Button,{className:"flex !h-7 !w-7 items-center justify-center !border-0 !bg-transparent !px-0 !text-[#636D83] !shadow-none hover:!bg-[#3338421f]",variant:"outline",onClick:n=>{n.preventDefault(),e()},children:(0,r.jsx)(o.Z,{size:16})}),(0,r.jsx)("div",{className:"h-[0.5px] w-full px-1",children:(0,r.jsx)("hr",{className:"border-b-[0.5px] border-t-0 border-[#636D83a0]"})}),(0,r.jsx)(d.Button,{className:"flex !h-7 !w-7 items-center justify-center !border-0 !bg-transparent !px-0 !text-[#636D83] !shadow-none hover:!bg-[#3338421f]",variant:"outline",onClick:e=>{e.preventDefault(),n()},children:(0,r.jsx)(i.Z,{size:16})}),(0,r.jsx)("div",{className:"h-[0.5px] w-full px-1",children:(0,r.jsx)("hr",{className:"border-b-[0.5px] border-t-0 border-[#636D83a0]"})}),(0,r.jsx)(d.Button,{className:"flex !h-7 !w-7 items-center justify-center !border-0 !bg-transparent !px-0 !text-[#636D83] !shadow-none hover:!bg-[#3338421f]",variant:"outline",onClick:e=>{e.preventDefault(),p()},children:t?(0,r.jsx)(l.Z,{size:16}):(0,r.jsx)(c.Z,{size:16})})]})})};var p=e=>{let{children:n,style:t}=e,[o,i]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=()=>{i(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}},[]),(0,r.jsx)("div",{className:"".concat(o?"fixed inset-0 z-50":"h-screen w-full"," [&>.react-transform-wrapper>.react-transform-component]:flex [&>.react-transform-wrapper>.react-transform-component]:h-full [&>.react-transform-wrapper>.react-transform-component]:w-full [&>.react-transform-wrapper>.react-transform-component]:cursor-move [&>.react-transform-wrapper>.react-transform-component]:items-center [&>.react-transform-wrapper>.react-transform-component]:justify-center [&>.react-transform-wrapper>.react-transform-component]:p-4 [&>.react-transform-wrapper]:h-full [&>.react-transform-wrapper]:w-full"),style:t,children:(0,r.jsxs)(a.d$,{doubleClick:{disabled:!1},children:[(0,r.jsx)(u,{}),(0,r.jsx)(a.Uv,{children:n})]})})}},56432:function(e,n,t){"use strict";var r=t(27573),s=t(7653),a=t(98204);let o={darkMode:!0,primaryColor:"#333842",secondaryColor:"#21252B",tertiaryColor:"#abb2bf",primaryTextColor:"#ABB2BF",secondaryTextColor:"#5c6370",tertiaryTextColor:"#4b5263",primaryBorderColor:"#636D83",secondaryBorderColor:"#5c6370",tertiaryBorderColor:"#4b5263",edgeLabelBackground:"#282C34",lineColor:"#636D83",textColor:"#abb2bf",pie1:"#56b6c2",pie2:"#61afef",pie3:"#c678dd",pie4:"#98c379",pie5:"#e06c75",pie6:"#d19a66",pieStrokeColor:"#2C313A",pieOuterStrokeColor:"#2C313A",fillType0:"#0d7377",fillType1:"#1f4e79",fillType2:"#8e44ad",fillType3:"#317732",fillType4:"#a31d48",fillType5:"#8f5c38",fillType6:"#a37d18",fillType7:"#4c5056"},i=()=>{let[e,n]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async()=>{try{let e=await Promise.all([t.e(4843),t.e(780),t.e(6756)]).then(t.bind(t,29555));n(e.default)}catch(e){console.error("Failed to load Mermaid: ".concat(e))}})()},[]),e},l=e=>{let{content:n}=e,t=i();(0,s.useEffect)(()=>{null==t||t.initialize({securityLevel:"strict",theme:"base",themeCSS:".label foreignObject { overflow: visible; }",themeVariables:{fontFamily:"monospace",fontSize:"14px",...o}})},[t]),(0,s.useEffect)(()=>{t&&setTimeout(()=>{let e=document.getElementById("mermaid");null==e||e.removeAttribute("data-processed"),null==t||t.contentLoaded()},1)},[n,t]);let l=async()=>{if(document.fullscreenElement){var e,n;await (null===(e=(n=document).exitFullscreen)||void 0===e?void 0:e.call(n))}else await document.documentElement.requestFullscreen()};return t?(0,r.jsxs)(a.Z,{style:{backgroundColor:"rgb(40, 44, 52)"},children:[(0,r.jsx)("div",{id:"mermaid",className:"mermaid flex max-h-full max-w-full grow items-center justify-center self-stretch bg-[#282C34] [&>svg]:max-h-full [&>svg]:max-w-full",children:n}),(0,r.jsx)("button",{onClick:l,className:"absolute bottom-2 right-2 z-10 rounded-md bg-[#3338421f] px-2 py-1 text-[#636D83] hover:bg-[#3338423f]"})]}):(0,r.jsx)(r.Fragment,{children:"Loading..."})};n.Z=l},48078:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(27573),_ant_chat_components_Artifacts_api_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(34077),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7653);let ReplRenderer=param=>{let{initialCode="",sendRequest}=param,fetchData=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(async e=>{if(sendRequest)return(await sendRequest(_ant_chat_components_Artifacts_api_actions__WEBPACK_IMPORTED_MODULE_1__.to.GetFile,{key:e,"@type":"anthropic.claude.usercontent.sandbox.GetFileRequest"})).value},[sendRequest]),onFinish=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(e=>{null==sendRequest||sendRequest(_ant_chat_components_Artifacts_api_actions__WEBPACK_IMPORTED_MODULE_1__.to.SendConversationMessage,{messageType:"text",message:e,"@type":"anthropic.claude.usercontent.sandbox.SendConversationMessageRequest"})},[sendRequest]),onError=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(e=>{null==sendRequest||sendRequest(_ant_chat_components_Artifacts_api_actions__WEBPACK_IMPORTED_MODULE_1__.to.SendConversationMessage,{messageType:"error",message:e,"@type":"anthropic.claude.usercontent.sandbox.SendConversationMessageRequest"})},[sendRequest]);return(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{try{var _JSON_stringify;let res=eval(initialCode);onFinish(null!==(_JSON_stringify=JSON.stringify(res))&&void 0!==_JSON_stringify?_JSON_stringify:"")}catch(err){onError(err instanceof Error?err.message:String(err))}},[initialCode,onError,onFinish]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{})};ReplRenderer.displayName="ReplRenderer",__webpack_exports__.Z=ReplRenderer},34363:function(e,n,t){"use strict";var r=t(27573),s=t(25369),a=t(12452),o=t(75427),i=t(7653),l=t(35661);let c=e=>{let{content:n}=e,[t,c]=(0,i.useState)([]);(0,i.useEffect)(()=>{let e=e=>{e.data&&"console"===e.data.type&&c(n=>[...n,e.data.message])};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]);let d="\n    <script>\n      (function() {\n        const originalConsole = window.console;\n        window.console = {\n          log: (...args) => {\n            originalConsole.log(...args);\n            window.parent.postMessage({ type: 'console', message: args.join(' ') }, '*');\n          },\n          error: (...args) => {\n            originalConsole.error(...args);\n            window.parent.postMessage({ type: 'console', message: 'Error: ' + args.join(' ') }, '*');\n          },\n          warn: (...args) => {\n            originalConsole.warn(...args);\n            window.parent.postMessage({ type: 'console', message: 'Warning: ' + args.join(' ') }, '*');\n          }\n        };\n\n        window.addEventListener('error', (event) => {\n          window.parent.postMessage({ type: 'console', message: 'Uncaught Error: ' + event.message }, '*');\n        });\n      })();\n    </script>\n  ",u=n.replace("<head>","<head>".concat(d));return(0,r.jsxs)(l.ResizablePanelGroup,{direction:"vertical",className:"h-screen",children:[(0,r.jsx)(l.ResizablePanel,{defaultSize:t.length>0?80:100,children:(0,r.jsx)("iframe",{className:"h-full w-full",sandbox:"allow-scripts",srcDoc:u})}),t.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.ResizableHandle,{withHandle:!0}),(0,r.jsx)(l.ResizablePanel,{defaultSize:20,children:(0,r.jsxs)("div",{className:"h-full overflow-auto p-4",style:{backgroundColor:"hsl(60 1.8% 22%)",backgroundImage:"linear-gradient(hsl(60 3.3% 17.8%), hsl(45 4.9% 16.1%))"},children:[(0,r.jsxs)("div",{className:"mb-2 inline-flex items-center gap-2 rounded-lg border px-2 py-1",style:{borderColor:"hsl(50 5.9% 40%)",color:"hsl(47 8.4% 79%)"},children:[(0,r.jsx)(s.Z,{size:12}),(0,r.jsx)("h2",{className:"gap-2 font-sans text-xs",children:"Console Messages"})]}),t.map((e,n)=>{let t=null,s={},i={color:"hsl(50 23.1% 94.9%)"};return e.startsWith("Error:")||e.startsWith("Uncaught Error:")?(t=(0,r.jsx)(a.Z,{size:12,className:"mt-1 shrink-0 text-red-500"}),s={backgroundColor:"rgba(255, 0, 0, 0.1)"},i.color="hsl(5 69.4% 72.9%)"):e.startsWith("Warning:")&&(t=(0,r.jsx)(o.Z,{size:12,className:"mt-1 shrink-0 text-yellow-500"}),s={backgroundColor:"rgba(255, 255, 0, 0.1)"},i.color="hsl(18 50.4% 47.5%)"),(0,r.jsxs)("div",{className:"mb-0.5 flex items-start gap-2 rounded-lg px-2 py-1",style:s,children:[(0,r.jsx)(r.Fragment,{children:t}),(0,r.jsx)("pre",{className:"flex-grow text-wrap font-mono text-sm",style:i,children:e})]},n)})]})})]})]})};n.Z=c},52063:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var r=t(27573),s=t(7653),a=t(83603),o=t.n(a),i=t(48788);let l=e=>{let n=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([0-9.]+))?\)/);if(!n)return console.error("Invalid color format:",e),e;let[,t,r,s,a="1"]=n,i=parseInt(t,10),l=parseInt(r,10),c=parseInt(s,10),d=parseFloat(a),[u,p,m]=o().rgb.hsl(i,l,c),g=Math.max(0,p-5),f=Math.max(0,m-25),[h,x,b]=o().hsl.rgb([u,g,f]);return"rgba(".concat(h,", ").concat(x,", ").concat(b,", ").concat(.8*d,")")},c=e=>{let n=new XMLSerializer().serializeToString(e),t=window.btoa(n);return"data:image/svg+xml;base64,".concat(t)},d=e=>{let n=document.createElement("canvas");return n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(e,0,0),n},u=async(e,n)=>{let t=c(e);return new Promise((e,r)=>{let s=new Image;s.onload=async()=>{let t=d(s);try{let r=await n.getColorAsync(t),s=l(r.rgba),a=r.isDark?"#fff":"#000";e({backgroundColor:s,textColor:a})}catch(e){r(e)}},s.onerror=r,s.src=t})};var p=e=>{let[n,t]=(0,s.useState)(""),[r,a]=(0,s.useState)("");return(0,s.useEffect)(()=>{let n=new i.Z,r=e.current;if(!r)return;let s=r.querySelector("svg");s&&u(s,n).then(e=>{let{backgroundColor:n,textColor:r}=e;t(n),a(r)}).catch(e=>{console.error("Error getting average color:",e)})},[e]),{backgroundColor:n,textColor:r}},m=t(98204),g=e=>{let{content:n}=e,t=(0,s.useRef)(null),{backgroundColor:a,textColor:o}=p(t);return(0,r.jsx)(m.Z,{style:{backgroundColor:a,color:o},children:(0,r.jsx)("div",{ref:t,className:"h-full w-full [&>svg]:h-full [&>svg]:w-full",dangerouslySetInnerHTML:{__html:n}})})}}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[5458,1065,4310,8437,9034,8444,780,4788,1525,8758,1843,3919,38,5432,1293,9997,1744],function(){return n(17601)}),_N_E=e.O()}]);